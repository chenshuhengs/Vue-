<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>响应式原理的初步认识</title>
  </head>
  <body></body>
  <script>
    let o = {};

    // vue中响应式主要采用 Object.defineProperty方法实现,defineProperty的配置项
    Object.defineProperty(o, "age", {
      configurable: true,
      writable: true,
      enumerable: !true, // 可枚举
      value: 19,
    });

    // 响应式就是我们在调用对象的属性或赋值时，要做一些事情
    let _gender;
    Object.defineProperty(o, "gender", {
      configurable: true,
      enumerable: true, //是否可枚举
      get() {
        //如果使用 o.gender 来访问数据就会调用 get 方法(getter,读取器)
        return _gender;
      },
      set(newVal) {
        //如果 o.gender = 'xxx',那么就会调用这个 set 方法，并设置的值会最为参数传入 set
        _gender = newVal;
      },
    });
    // 如果同时使用 get 和 set 需要一个中间变量存储真正的数据
    // 问题：这个 _gender 被暴露在全局作用域 如果解决
    // 在 VUE 使用 defineReactive(target,key,value,enumerable)
  </script>
</html>
